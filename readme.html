<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <link href="data:text/css,%2A%20%7B%0A%09font%2Dfamily%3A%20%22Gentium%22%3B%0A%09font%2Dsize%3A%2012pt%3B%0A%09line%2Dheight%3A%20150%25%3B%0A%09text%2Dalign%3A%20justify%3B%0A%09color%3A%20%232e3436%3B%0A%7D%0A%0Ap%20%7B%0A%09margin%3A%200px%3B%0A%09text%2Dindent%3A%2025px%3B%09%0A%7D%0A%0Aa%20%7B%0A%09color%3A%20%233465a4%3B%0A%09text%2Ddecoration%3A%20none%3B%0A%7D%0A%0Aa%2C%20em%2C%20strong%20%7B%0A%09font%2Dsize%3A%201em%3B%09%0A%09font%2Dfamily%3A%20inherit%3B%0A%7D%0A%0Aem%2C%20strong%20%7B%0A%09color%3A%20inherit%3B%0A%7D%0A%0Acode%20%7B%0A%09font%2Dfamily%3A%20%27Courier%20New%27%3B%0A%7D%0A%0Asup%20%7B%0A%09font%2Dsize%3A%200%2E7em%3B%0A%7D%0A%0Aheader%20h1%20%7B%0A%09color%3A%20%23888a85%3B%0A%09font%2Dfamily%3A%20%22Gentium%22%3B%0A%09font%2Dsize%3A%200%2E8em%3B%0A%09border%2Dbottom%3A%20solid%201px%20%23888a85%3B%0A%09font%2Dweight%3A%20normal%3B%0A%7D%0A%0Ah1%20%7B%0A%09text%2Dalign%3A%20left%3B%0A%09font%2Dfamily%3A%20%27Sawasdee%27%3B%0A%09font%2Dsize%3A%201%2E2em%3B%0A%09color%3A%20%232346a5%3B%0A%09font%2Dweight%3A%20bold%3B%0A%7D%0A%0Ah1%2C%20h2%2C%20h2%20%7B%0A%09page%2Dbreak%2Dafter%3A%20avoid%3B%0A%7D%0A%0A%23titlepage%20%7B%0A%09margin%2Dbottom%3A%2050px%3B%0A%7D%0A%0A%2Etitle%20%7B%09%0A%09font%2Dsize%3A%202em%3B%0A%09text%2Dalign%3A%20left%3B%0A%09color%3A%20%233465a4%3B%0A%09margin%2Dbottom%3A%2050px%3B%0A%09font%2Dfamily%3A%20%27Sawasdee%27%3B%0A%09font%2Dweight%3A%20bold%3B%0A%7D%0A%0A%2Eauthor%20%7B%0A%09font%2Dsize%3A%201%2E2em%3B%0A%09text%2Dalign%3A%20right%3B%0A%7D%0A%0A%2Eaffiliation%2C%0A%2Ecorrespondence%20%7B%0A%09font%2Dsize%3A%200%2E8em%3B%0A%09text%2Dalign%3A%20right%3B%0A%7D%0A%0A%23abstract%20%7B%0A%09border%2Dbottom%3A%20solid%201px%20%23729fcf%3B%0A%09padding%2Dbottom%3A%2025px%3B%0A%09margin%3A%2025px%3B%0A%7D%0A%0A%23abstract%20strong%20%7B%0A%09font%2Dfamily%3A%20%22Sawasdee%22%3B%0A%7D%0A%0A%23abstract%20strong%2C%0Afigcaption%20strong%20%7B%0A%09color%3A%20%233465a4%3B%0A%7D%0A%0A%2Eabstract%20strong%20%7B%0A%09font%2Dfamily%3A%20%27Sawasdee%27%3B%0A%7D%0A%0Afigure%20%7B%0A%09text%2Dalign%3A%20center%3B%0A%09float%3A%20right%3B%0A%09display%3A%20table%3B%0A%09margin%2Dleft%3A%2025px%3B%0A%09page%2Dbreak%2Dinside%3A%20avoid%3B%0A%09caption%2Dside%3A%20bottom%3B%0A%09clear%3A%20right%3B%0A%7D%0A%0Afigure%20img%20%7B%0A%7D%0A%0Afigure%20figcaption%20%7B%0A%09display%3A%20table%2Dcaption%3B%0A%09font%2Dstyle%3A%20italic%3B%0A%09font%2Dsize%3A%200%2E9em%3B%0A%7D%0A%0A%2Ecitation%20%7B%0A%09color%3A%20%232346a5%3B%0A%7D%0A%0A%2Ereferences%20p%20%7B%0A%09text%2Dalign%3A%20left%3B%0A%09text%2Dindent%3A%20%2D25px%3B%0A%09margin%2Dleft%3A%2025px%3B%0A%09color%3A%20%23555753%3B%0A%7D%0A%0A%2Efooter%20%7B%0A%09text%2Dalign%3A%20center%3B%0A%09font%2Dsize%3A%200%2E8em%3B%0A%09color%3A%20%23555753%3B%0A%09border%2Dtop%3A%20solid%201px%20%23555753%3B%0A%7D%0A%0A%2Efooter%20span%2C%0A%2Eheader%20span%20%7B%0A%09font%2Dsize%3A%201em%3B%0A%7D%0A%0A%2Eheader%20%7B%0A%09text%2Dalign%3A%20center%3B%0A%09color%3A%20%23555753%3B%0A%09font%2Dsize%3A%200%2E8em%3B%0A%09border%2Dbottom%3A%20solid%201px%20%23555753%3B%0A%7D" rel="stylesheet">
</head>
<body>
<h1 id="academic-markdown">Academic Markdown</h1>
<p><em>Who knew writing could be so nerdy?</em></p>
<p>version 0.4.0</p>
<p>Copyright 2013 Sebastiaan Mathôt</p>
<h2 id="contents">Contents</h2>
<ul>
<li><a href="#about">About</a></li>
<li><a href="#download">Download</a></li>
<li><a href="#basic-usage">Basic usage</a></li>
<li><a href="#dependencies">Dependencies</a></li>
<li><a href="#zotero-references">Zotero references</a></li>
<li><a href="#academic-markdown-extensions">Academic Markdown extensions</a>
<ul>
<li><a href="#figure-figures"><code>figure</code>: figures</a></li>
<li><a href="#code-code-listings"><code>code</code>: Code listings</a></li>
<li><a href="#exec-external-commands"><code>exec</code>: external commands</a></li>
<li><a href="#include-include-other-markdown-files"><code>include</code>: include other Markdown files</a></li>
<li><a href="#toc-table-of-contents"><code>toc</code>: table of contents</a></li>
<li><a href="#magic-variables">Magic variables</a></li>
</ul></li>
<li><a href="#license">License</a></li>
</ul>
<h2 id="about">About</h2>
<p>Academic Markdown is a Python module that allows you generate <code>.md</code>, <code>.html</code>, <code>.pdf</code>, <code>.docx</code>, and <code>.odt</code> files from Markdown source. <a href="http://johnmacfarlane.net/pandoc/">Pandoc</a> is used for most of the heavy lifting, so refer to the Pandoc website for detailed information about writing in Pandoc Markdown. However, Academic Markdown offers some additional functionality that is useful for writing scientific documents, such as integration with <a href="#zotero-references">Zotero references</a>, and a number of useful <a href="#academic-markdown-extensions">Academic Markdown extensions</a>.</p>
<p>At present, the main target for Academic Markdown is the OpenSesame documentation site, <a href="http://osdoc.cogsci.nl/">http://osdoc.cogsci.nl/</a>, although it may in time grow into a more comprehensive and user-friendly tool.</p>
<h2 id="download">Download</h2>
<p>You can download the latest release of Academic Markdown here:</p>
<ul>
<li><a href="https://github.com/smathot/academicmarkdown/releases">https://github.com/smathot/academicmarkdown/releases</a></li>
</ul>
<p>Ubuntu users can install Academic Markdown from the Cogsci.nl PPA:</p>
<pre><code>sudo add-apt-repository ppa:smathot/cogscinl
sudo apt-get update
sudo apt-get install python-academicmarkdown</code></pre>
<h2 id="basic-usage">Basic usage</h2>
<p>Academic Markdown assumes that input files are encoded with <code>utf-8</code> encoding.</p>
<pre><code>from academicmarkdown import build
build.HTML(u'input.md', u'output.html')
build.PDF(u'input.md', u'output.pdf')
build.DOCX(u'input.md', u'output.docx') 
build.ODT(u'input.md', u'output.odt')</code></pre>
<p>A number of options can be specified by setting attributes of the <code>build</code> module, like so</p>
<pre><code>build.spacing = 30, 0</code></pre>
<p>The full list of options is available in <code>academicmarkdown/constants.py</code>.</p>
<h2 id="dependencies">Dependencies</h2>
<p>Academic Markdown has been tested exclusively on Ubuntu Linux. The following dependencies are required:</p>
<ul>
<li><a href="http://johnmacfarlane.net/pandoc/">pandoc</a> is used for most of the heavy lifting. At the time of writing, the Ubuntu repositories do not contain a sufficiently recent version of Pandoc. Therefore, if you encounter trouble, try installing the latest version of Pandoc manually.</li>
<li><a href="http://pyzotero.readthedocs.org/">pyzotero</a> is necessary for extracting Zotero references.</li>
<li><a href="https://code.google.com/p/wkhtmltopdf/">wkhtmltopdf</a> is necessary for converting to <code>.pdf</code>. For best results, use the latest statically linked release, instead of the version from the Ubuntu repositories.</li>
</ul>
<h2 id="zotero-references">Zotero references</h2>
<p>Since the basic Markdown conversion is performed by Pandoc, citations should be formatted as described on the Pandoc site:</p>
<ul>
<li><a href="http://johnmacfarlane.net/pandoc/README.html#citations">http://johnmacfarlane.net/pandoc/README.html#citations</a></li>
</ul>
<p>You can automatically extract references from your Zotero library by setting the <code>zoteroApiKey</code> and <code>zoteroLibraryId</code> properties. Your references are not extracted from your local Zotero database, but through the web API of <a href="http://www.zotero.org">http://www.zotero.org</a>. This means that you need to have a Zotero account and synchronize your local database with your account, in order to use this feature. You can find your your API key and library ID online on your Zotero profile page.</p>
<pre><code>from academicmarkdown import build 
build.zoteroApiKey = u'myapikey'
build.zoteroLibraryId = u'mylibraryid'
build.PDF(u'input.md', u'output.pdf')</code></pre>
<p>Citations are split into separate terms using camelcase or undescore logic. An example of an underscore-style citation is <code>@bárány_halldén_1948</code>. And example of a camelcase-style citation is <code>@Land1999WhyAnimals</code>. Each citation is interpreted as a series of author names, followed by the year of publication, optionally followed by terms that match either the publication title, or the article title. So the following reference …</p>
<p>Land, M., Mennie, N., &amp; Rusted, J. (1999). The roles of vision and eye movements in the control of activities of daily living. <em>Perception</em>, <em>28</em>(11), 1311–1328.</p>
<p>… matches any of the following terms:</p>
<ul>
<li><code>@Land1999</code></li>
<li><code>@Land1999Roles</code></li>
<li><code>@LandMennie1999</code></li>
<li><code>@LandRusted1999Percept</code></li>
<li><code>@land_rusted_1999_percept</code></li>
<li>etc.</li>
</ul>
<p>Note that you must consistently use the same citation to refer to a single reference in one document. If a citation matched multiple references from your Zotero database, one citation will be chosen at random.</p>
<p>Previous references will be cached automatically. To refresh, remove the file <code>.zoteromarkdown.cache</code> or run your Python script with the command-line argument: <code>--clear-cache</code>.</p>
<h2 id="academic-markdown-extensions">Academic Markdown extensions</h2>
<p>Academic Markdown provides certain extensions to regular Markdown, in the form of YAML blocks embedded in <code>%-- --%</code> tags.</p>
<h3 id="figure-figures"><code>figure</code>: figures</h3>
<p>The <code>figure</code> block embeds a Figure in the text. Figures are numbered automatically. The ID can be used to refer to the Figure in the text, using a <code>%</code> character. So the following figure would be referred to as <code>%FigFA</code>.</p>
<pre><code>%--
figure:
 id: FigFA
 source: example/foveal_acuity.png
 caption: &quot;Visual acuity drops of rapidly with distance from the fovea&quot;
--%</code></pre>
<h3 id="code-code-listings"><code>code</code>: Code listings</h3>
<p>The <code>code</code> blocks embeds a code listing in the text, quite to similar to the <code>figure</code> block.</p>
<pre><code>%--
code:
 id: CodeA
 source: my_script.py
 syntax: python
 caption: &quot;A simple Python script&quot;
--%</code></pre>
<h3 id="exec-external-commands"><code>exec</code>: external commands</h3>
<p>The <code>exec</code> block inserts the return value of an external command in the text. For example, the following block embeds something like ‘Generated on 10/18/2013’:</p>
<pre><code>%-- exec: &quot;date +'Generated on %x'&quot; --%</code></pre>
<h3 id="include-include-other-markdown-files"><code>include</code>: include other Markdown files</h3>
<p>The <code>include</code> block includes an other Markdown file. For example:</p>
<pre><code>%-- include: example/intro.md --%</code></pre>
<h3 id="toc-table-of-contents"><code>toc</code>: table of contents</h3>
<p>The <code>toc</code> block will automatically generate a table of contents from the headings, assuming that headings are indicated using the <code>#</code> style and not the underlining style. You can indicate headings to be excluded from the table of contents as well.</p>
<pre><code>%--
toc:
 mindepth: 1
 maxdepth: 2
 exclude: [Contents, Contact]
--%</code></pre>
<h3 id="magic-variables">Magic variables</h3>
<p>Magic variables are automatically replaced by certain values, and are indicated like this: <code>%varname%</code>. The following magic variables are available:</p>
<ul>
<li><code>877</code>: Word count</li>
<li><code>6346</code>: Character count</li>
</ul>
<h2 id="license">License</h2>
<p>Academic Markdown is available under the GNU General Public License 3. For more information, see the included file <code>COPYING</code>.</p>
<div class="references">

</div>
</body>
</html>
